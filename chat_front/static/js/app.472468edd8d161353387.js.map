{"version":3,"sources":["webpack:///static/js/app.472468edd8d161353387.js","webpack:///./src/main.js","webpack:///./src/App.vue?8ffe","webpack:///./src/components/ChatList.vue?68c8","webpack:///./src/components/Heads.vue?893f","webpack:///./src/components/Heads.vue?7991","webpack:///./src/App.vue?24a9","webpack:///./src/components/ChatList.vue?c9f7","webpack:///App.vue","webpack:///ChatList.vue","webpack:///Heads.vue","webpack:///./src/common/util.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_mintUi","_mintUi2","_vueResource","_vueResource2","_App","_App2","use","el","template","components","App","Component","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","friendnameImgHead","_v","_s","friendname","class","vociceOpen","aria-hidden","on","click","$event","staticRenderFns","id","showSelBox","ref","top-method","loadTop","top-pull-text","top-drop-text","top-status-change","handleTopChange","_l","item","type","usernameImgHead","time","name","domProps","innerHTML","replaceFace","content","_e","placeholder","model","value","callback","$$v","expression","sendMsg","directives","rawName","auto","continuous","Math","ceil","EXPS","length","n","getEXP","index","file","alt","data","code","selOther","Object","defineProperty","_Heads","_Heads2","_ChatList","_ChatList2","Heads","ChatList","_util","_util2","socket","timestamp","Date","getTime","created","reg","reg_str_arr","location","href","match","split","username","WebSocket","selFace","topStatus","records","title","methods","pageNow","pageSize","slice","_this","Toast","onopen","send","push","formatDate","format","onmessage","e","console","log","JSON","parse","myformat","TimeStamp","Content","scrollToBottom","focusTxtContent","document","querySelector","focus","setTimeout","chatlist","getElementsByClassName","scrollTop","scrollHeight","con","exps","i","replace","status","_this2","oldHeight","$http","get","then","res","body","forEach","unshift","newHeight","$refs","loadmore","onTopLoaded","mounted","padding","s","len","SIGN_REGEXP","DEFAULT_PATTERN","getQueryStringByName","RegExp","r","window","search","substr","context","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","pattern","$0","charAt","getDay","dateString","matchs1","matchs2","_date","_int","parseInt","sign","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds"],"mappings":"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","file":"static/js/app.472468edd8d161353387.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(3);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _mintUi = __webpack_require__(2);\n\t\n\tvar _mintUi2 = _interopRequireDefault(_mintUi);\n\t\n\t__webpack_require__(8);\n\t\n\tvar _vueResource = __webpack_require__(11);\n\t\n\tvar _vueResource2 = _interopRequireDefault(_vueResource);\n\t\n\tvar _App = __webpack_require__(12);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_mintUi2.default);\n\t_vue2.default.use(_vueResource2.default);\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t});\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(6)\n\t\n\tvar Component = __webpack_require__(1)(\n\t  /* script */\n\t  __webpack_require__(18),\n\t  /* template */\n\t  __webpack_require__(16),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(7)\n\t\n\tvar Component = __webpack_require__(1)(\n\t  /* script */\n\t  __webpack_require__(19),\n\t  /* template */\n\t  __webpack_require__(17),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(5)\n\t\n\tvar Component = __webpack_require__(1)(\n\t  /* script */\n\t  __webpack_require__(20),\n\t  /* template */\n\t  __webpack_require__(15),\n\t  /* scopeId */\n\t  \"data-v-1499b4dc\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('section', {\n\t    staticClass: \"top\"\n\t  }, [_c('img', {\n\t    staticClass: \"head\",\n\t    attrs: {\n\t      \"src\": _vm.friendnameImgHead\n\t    }\n\t  }), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"name\"\n\t  }, [_vm._v(_vm._s(_vm.friendname))]), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"voice\"\n\t  }, [_c('i', {\n\t    staticClass: \"fa\",\n\t    class: _vm.vociceOpen ? 'fa-volume-up' : 'fa-volume-down',\n\t    attrs: {\n\t      \"aria-hidden\": \"true\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.vociceOpen = _vm.vociceOpen ? false : true\n\t      }\n\t    }\n\t  })])])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('Heads'), _vm._v(\" \"), _c('ChatList')], 1)\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', [_c('section', {\n\t    staticClass: \"chatlist\",\n\t    class: _vm.showSelBox > 0 ? 'chatlist-bottom-collapse' : 'chatlist-bottom'\n\t  }, [_c('mt-loadmore', {\n\t    ref: \"loadmore\",\n\t    attrs: {\n\t      \"top-method\": _vm.loadTop,\n\t      \"top-pull-text\": \"加载更多\",\n\t      \"top-drop-text\": \"释放加载\"\n\t    },\n\t    on: {\n\t      \"top-status-change\": _vm.handleTopChange\n\t    }\n\t  }, [_c('ul', [_vm._l((_vm.records), function(item) {\n\t    return [(item.type == 1) ? _c('li', {\n\t      staticClass: \"chat-mine\"\n\t    }, [_c('div', {\n\t      staticClass: \"chat-user\"\n\t    }, [_c('img', {\n\t      attrs: {\n\t        \"src\": _vm.usernameImgHead\n\t      }\n\t    })]), _vm._v(\" \"), _c('div', {\n\t      staticClass: \"time\"\n\t    }, [_c('cite', [_c('i', [_vm._v(_vm._s(item.time))]), _vm._v(_vm._s(item.name))])]), _vm._v(\" \"), _c('div', {\n\t      staticClass: \"chat-text\",\n\t      domProps: {\n\t        \"innerHTML\": _vm._s(_vm.replaceFace(item.content))\n\t      }\n\t    })]) : _vm._e(), _vm._v(\" \"), (item.type == 2) ? _c('li', [_c('div', {\n\t      staticClass: \"chat-user\"\n\t    }, [_c('img', {\n\t      attrs: {\n\t        \"src\": _vm.friendnameImgHead\n\t      }\n\t    })]), _vm._v(\" \"), _c('div', {\n\t      staticClass: \"time\"\n\t    }, [_c('cite', [_vm._v(_vm._s(item.name)), _c('i', [_vm._v(_vm._s(item.time))])])]), _vm._v(\" \"), _c('div', {\n\t      staticClass: \"chat-text\",\n\t      domProps: {\n\t        \"innerHTML\": _vm._s(_vm.replaceFace(item.content))\n\t      }\n\t    })]) : _vm._e()]\n\t  })], 2)])], 1), _vm._v(\" \"), _c('section', {\n\t    staticClass: \"foot\"\n\t  }, [_c('mt-field', {\n\t    staticClass: \"con\",\n\t    attrs: {\n\t      \"id\": \"txtContent\",\n\t      \"placeholder\": \"请输入消息\"\n\t    },\n\t    model: {\n\t      value: (_vm.content),\n\t      callback: function($$v) {\n\t        _vm.content = $$v\n\t      },\n\t      expression: \"content\"\n\t    }\n\t  }), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"btn-face\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.showSelBox = _vm.showSelBox == 1 ? 0 : 1\n\t      }\n\t    }\n\t  }, [_c('i', {\n\t    staticClass: \"fa fa-smile-o\",\n\t    attrs: {\n\t      \"aria-hidden\": \"true\"\n\t    }\n\t  })]), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"btn-plus\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.showSelBox = _vm.showSelBox == 2 ? 0 : 2\n\t      }\n\t    }\n\t  }, [_c('i', {\n\t    staticClass: \"fa\",\n\t    class: _vm.showSelBox == 2 ? 'fa-minus-circle' : 'fa-plus-circle',\n\t    attrs: {\n\t      \"aria-hidden\": \"true\"\n\t    }\n\t  })]), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"btn btn-send\",\n\t    on: {\n\t      \"click\": _vm.sendMsg\n\t    }\n\t  }, [_vm._v(\"发送\")]), _vm._v(\" \"), _c('section', {\n\t    staticClass: \"selbox\",\n\t    class: _vm.showSelBox > 0 ? 'show' : 'hide'\n\t  }, [_c('section', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showSelBox == 1),\n\t      expression: \"showSelBox==1\"\n\t    }],\n\t    staticClass: \"face-box\"\n\t  }, [_c('mt-swipe', {\n\t    attrs: {\n\t      \"auto\": 0,\n\t      \"continuous\": false\n\t    }\n\t  }, _vm._l((Math.ceil(_vm.EXPS.length / 18)), function(n) {\n\t    return _c('mt-swipe-item', _vm._l((_vm.getEXP(n, 18)), function(item, index) {\n\t      return _c('li', [_c('img', {\n\t        attrs: {\n\t          \"src\": 'static/emotion/' + item.file,\n\t          \"alt\": \"\",\n\t          \"data\": item.code\n\t        },\n\t        on: {\n\t          \"click\": function($event) {\n\t            _vm.content += item.code\n\t          }\n\t        }\n\t      })])\n\t    }))\n\t  }))], 1), _vm._v(\" \"), _c('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.showSelBox == 2),\n\t      expression: \"showSelBox==2\"\n\t    }]\n\t  }, [_vm._v(_vm._s(_vm.selOther))])])], 1)])\n\t},staticRenderFns: []}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Heads = __webpack_require__(14);\n\t\n\tvar _Heads2 = _interopRequireDefault(_Heads);\n\t\n\tvar _ChatList = __webpack_require__(13);\n\t\n\tvar _ChatList2 = _interopRequireDefault(_ChatList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  components: {\n\t    Heads: _Heads2.default,\n\t    ChatList: _ChatList2.default\n\t  }\n\t};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _util = __webpack_require__(21);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tvar _mintUi = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar socket = null;\n\tvar timestamp = new Date().getTime();\n\texports.default = {\n\t    name: 'chatlist',\n\t    created: function created() {\n\t        var reg = /username=.*$/g;\n\t        var reg_str_arr = location.href.match(reg)[0].split('&');\n\t        var username = reg_str_arr[0].split('=')[1];\n\t        var friendname = reg_str_arr[1].split('=')[1];\n\t        this.username = username;\n\t        this.friendname = friendname;\n\t        socket = new WebSocket('ws://118.89.200.173/chat?username=' + username + '&friendname=' + friendname);\n\t        this.usernameImgHead = 'http://118.89.200.173/image/head_image/' + username + '.jpg';\n\t        this.friendnameImgHead = 'http://118.89.200.173/image/head_image/' + friendname + '.jpg';\n\t    },\n\t    data: function data() {\n\t        return {\n\t            username: '',\n\t            friendname: '',\n\t            usernameImgHead: '',\n\t            friendnameImgHead: '',\n\t            showSelBox: 0,\n\t            selFace: '表情',\n\t            selOther: '其他功能',\n\t            content: '',\n\t            topStatus: '',\n\t\n\t            records: [],\n\t\n\t            EXPS: [{ file: '100.gif', code: '/::)', title: '微笑', reg: /\\/::\\)/g }, { file: '101.gif', code: '/::~', title: '伤心', reg: /\\/::~/g }, { file: '102.gif', code: '/::B', title: '美女', reg: /\\/::B/g }, { file: '103.gif', code: '/::|', title: '发呆', reg: /\\/::\\|/g }, { file: '104.gif', code: '/:8-)', title: '墨镜', reg: /\\/:8-\\)/g }, { file: '105.gif', code: '/::<', title: '哭', reg: /\\/::</g }, { file: '106.gif', code: '/::$', title: '羞', reg: /\\/::\\$/g }, { file: '107.gif', code: '/::X', title: '哑', reg: /\\/::X/g }, { file: '108.gif', code: '/::Z', title: '睡', reg: /\\/::Z/g }, { file: '109.gif', code: '/::\\'(', title: '哭', reg: /\\/::'\\(/g }, { file: '110.gif', code: '/::-|', title: '囧', reg: /\\/::-\\|/g }, { file: '111.gif', code: '/::@', title: '怒', reg: /\\/::@/g }, { file: '112.gif', code: '/::P', title: '调皮', reg: /\\/::P/g }, { file: '113.gif', code: '/::D', title: '笑', reg: /\\/::D/g }, { file: '114.gif', code: '/::O', title: '惊讶', reg: /\\/::O/g }, { file: '115.gif', code: '/::(', title: '难过', reg: /\\/::\\(/g }, { file: '116.gif', code: '/::+', title: '酷', reg: /\\/::\\+/g }, { file: '117.gif', code: '/:--b', title: '汗', reg: /\\/:--b/g }, { file: '118.gif', code: '/::Q', title: '抓狂', reg: /\\/::Q/g }, { file: '119.gif', code: '/::T', title: '吐', reg: /\\/::T/g }, { file: '120.gif', code: '/:,@P', title: '笑', reg: /\\/:,@P/g }, { file: '121.gif', code: '/:,@-D', title: '快乐', reg: /\\/:,@-D/g }, { file: '122.gif', code: '/::d', title: '奇', reg: /\\/::d/g }, { file: '123.gif', code: '/:,@o', title: '傲', reg: /\\/:,@o/g }, { file: '124.gif', code: '/::g', title: '饿', reg: /\\/::g/g }, { file: '125.gif', code: '/:|-)', title: '累', reg: /\\/:\\|-\\)/g }, { file: '126.gif', code: '/::!', title: '吓', reg: /\\/::!/g }]\n\t        };\n\t    },\n\t\n\t    methods: {\n\t        getEXP: function getEXP(pageNow, pageSize) {\n\t            return this.EXPS.slice((pageNow - 1) * pageSize, pageSize * pageNow);\n\t        },\n\t\n\t        sendMsg: function sendMsg() {\n\t            var _this = this;\n\t\n\t            if (this.content == '') {\n\t                (0, _mintUi.Toast)('请输入消息');\n\t                return;\n\t            }\n\t            socket.onopen = _util2.default.send(socket, this.content);\n\t            this.records.push({\n\t                type: 1,\n\t                time: _util2.default.formatDate.format(new Date(), 'yyyy-MM-dd hh:mm:ss'),\n\t                name: this.username,\n\t                content: this.content\n\t            });\n\t            socket.onmessage = function (e) {\n\t                console.log(_this.records);\n\t                var data = JSON.parse(e.data)[1];\n\t                console.log(_util2.default.formatDate.myformat(data.TimeStamp));\n\t                _this.records.push({\n\t                    type: 2,\n\t                    time: _util2.default.formatDate.myformat(data.TimeStamp),\n\t                    name: _this.friendname,\n\t                    content: data.Content\n\t                });\n\t            };\n\t            this.content = '';\n\t\n\t            this.scrollToBottom();\n\t        },\n\t\n\t        focusTxtContent: function focusTxtContent() {\n\t            document.querySelector(\"#txtContent input\").focus();\n\t        },\n\t\n\t        scrollToBottom: function scrollToBottom() {\n\t            setTimeout(function () {\n\t                var chatlist = document.getElementsByClassName('chatlist')[0];\n\t                chatlist.scrollTop = chatlist.scrollHeight;\n\t            }, 100);\n\t        },\n\t\n\t        replaceFace: function replaceFace(con) {\n\t            var _this = this;\n\t            var exps = this.EXPS;\n\t            for (var i = 0; i < exps.length; i++) {\n\t                con = con.replace(exps[i].reg, '<img src=\"static/emotion/' + exps[i].file + '\"  alt=\"\" />');\n\t            }\n\t            return con;\n\t        },\n\t        handleTopChange: function handleTopChange(status) {\n\t            this.topStatus = status;\n\t        },\n\t        loadTop: function loadTop(id) {\n\t            var _this2 = this;\n\t\n\t            var _this = this;\n\t            console.log(timestamp);\n\t            setTimeout(function () {\n\t                var chatlist = document.getElementsByClassName('chatlist')[0];\n\t                var oldHeight = chatlist.scrollHeight;\n\t                _this2.$http.get('http://118.89.200.173/chat/get_chat_record?username=' + _this2.username + '&friendname=' + _this2.friendname + '&timestamp=' + timestamp).then(function (res) {\n\t                    console.log(res);\n\t                    var data = res.body;\n\t                    if (!data) {\n\t                        return;\n\t                    }\n\t                    data.forEach(function (item, index) {\n\t                        var obj = {};\n\t                        obj.content = item[1].Content;\n\t                        obj.type = item[0];\n\t                        obj.time = _util2.default.formatDate.myformat(item[1].TimeStamp);\n\t                        obj.name = _this.username;\n\t                        _this.records.unshift(obj);\n\t                        console.log(item);\n\t                        timestamp = item[1].TimeStamp;\n\t                    });\n\t                });\n\t\n\t                setTimeout(function () {\n\t                    var newHeight = chatlist.scrollHeight;\n\t                    chatlist.scrollTop = newHeight - oldHeight;\n\t                }, 100);\n\t\n\t                _this2.$refs.loadmore.onTopLoaded(id);\n\t            }, 1500);\n\t        }\n\t    },\n\t    mounted: function mounted() {\n\t        this.scrollToBottom();\n\t        this.focusTxtContent();\n\t    }\n\t};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'heads',\n\t  created: function created() {\n\t    var reg = /username=.*$/g;\n\t    var reg_str_arr = location.href.match(reg)[0].split('&');\n\t    var username = reg_str_arr[0].split('=')[1];\n\t    var friendname = reg_str_arr[1].split('=')[1];\n\t    this.username = username;\n\t    this.friendname = friendname;\n\t    this.usernameImgHead = 'http://118.89.200.173/image/head_image/' + username + '.jpg';\n\t    this.friendnameImgHead = 'http://118.89.200.173/image/head_image/' + friendname + '.jpg';\n\t  },\n\t  data: function data() {\n\t    return {\n\t      vociceOpen: true,\n\t      username: '',\n\t      friendname: '',\n\t      usernameImgHead: '',\n\t      friendnameImgHead: ''\n\t    };\n\t  }\n\t};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar SIGN_REGEXP = /([yMdhsm])(\\1*)/g;\n\tvar DEFAULT_PATTERN = 'yyyy-MM-dd';\n\tfunction padding(s, len) {\n\t    var len = len - (s + '').length;\n\t    for (var i = 0; i < len; i++) {\n\t        s = '0' + s;\n\t    }\n\t    return s;\n\t};\n\t\n\texports.default = {\n\t    getQueryStringByName: function getQueryStringByName(name) {\n\t        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n\t        var r = window.location.search.substr(1).match(reg);\n\t        var context = \"\";\n\t        if (r != null) context = r[2];\n\t        reg = null;\n\t        r = null;\n\t        return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\n\t    },\n\t    formatDate: {\n\t        myformat: function myformat(date) {\n\t            return new Date(date).getFullYear() + '-' + (new Date(date).getMonth() + 1) + '-' + new Date(date).getDate() + ' ' + new Date(date).getHours() + \":\" + (new Date(date).getMinutes() < 10 ? '0' + new Date(date).getMinutes() : new Date(date).getMinutes()) + ':' + (new Date(date).getSeconds() < 10 ? '0' + new Date(date).getSeconds() : new Date(date).getSeconds());\n\t        },\n\t\n\t        format: function format(date, pattern) {\n\t            pattern = pattern || DEFAULT_PATTERN;\n\t            return pattern.replace(SIGN_REGEXP, function ($0) {\n\t                switch ($0.charAt(0)) {\n\t                    case 'y':\n\t                        return padding(date.getFullYear(), $0.length);\n\t                    case 'M':\n\t                        return padding(date.getMonth() + 1, $0.length);\n\t                    case 'd':\n\t                        return padding(date.getDate(), $0.length);\n\t                    case 'w':\n\t                        return date.getDay() + 1;\n\t                    case 'h':\n\t                        return padding(date.getHours(), $0.length);\n\t                    case 'm':\n\t                        return padding(date.getMinutes(), $0.length);\n\t                    case 's':\n\t                        return padding(date.getSeconds(), $0.length);\n\t                }\n\t            });\n\t        },\n\t        parse: function parse(dateString, pattern) {\n\t            var matchs1 = pattern.match(SIGN_REGEXP);\n\t            var matchs2 = dateString.match(/(\\d)+/g);\n\t            if (matchs1.length == matchs2.length) {\n\t                var _date = new Date(1970, 0, 1);\n\t                for (var i = 0; i < matchs1.length; i++) {\n\t                    var _int = parseInt(matchs2[i]);\n\t                    var sign = matchs1[i];\n\t                    switch (sign.charAt(0)) {\n\t                        case 'y':\n\t                            _date.setFullYear(_int);break;\n\t                        case 'M':\n\t                            _date.setMonth(_int - 1);break;\n\t                        case 'd':\n\t                            _date.setDate(_int);break;\n\t                        case 'h':\n\t                            _date.setHours(_int);break;\n\t                        case 'm':\n\t                            _date.setMinutes(_int);break;\n\t                        case 's':\n\t                            _date.setSeconds(_int);break;\n\t                    }\n\t                }\n\t                return _date;\n\t            }\n\t            return null;\n\t        }\n\t\n\t    },\n\t\n\t    send: function send(socket, data) {\n\t        socket.send(data);\n\t    }\n\t};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.472468edd8d161353387.js","import Vue from 'vue'\nimport MintUI from 'mint-ui'\nimport 'mint-ui/lib/style.css'\nimport VueResource from 'vue-resource'\nimport App from './App'\n\nVue.use(MintUI)\nVue.use(VueResource)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\n/* styles */\nrequire(\"!!../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/.10.3.0@vue-loader/lib/style-rewriter?id=data-v-5833f259!../node_modules/.10.3.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/.10.3.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.10.3.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.10.3.0@vue-loader/lib/template-compiler?id=data-v-5833f259!../node_modules/.10.3.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 12\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/.10.3.0@vue-loader/lib/style-rewriter?id=data-v-e1083f32!../../node_modules/.10.3.0@vue-loader/lib/selector?type=styles&index=0!./ChatList.vue\")\n\nvar Component = require(\"!../../node_modules/.10.3.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.10.3.0@vue-loader/lib/selector?type=script&index=0!./ChatList.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.10.3.0@vue-loader/lib/template-compiler?id=data-v-e1083f32!../../node_modules/.10.3.0@vue-loader/lib/selector?type=template&index=0!./ChatList.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatList.vue\n// module id = 13\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/.10.3.0@vue-loader/lib/style-rewriter?id=data-v-1499b4dc&scoped=true!../../node_modules/.10.3.0@vue-loader/lib/selector?type=styles&index=0!./Heads.vue\")\n\nvar Component = require(\"!../../node_modules/.10.3.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.10.3.0@vue-loader/lib/selector?type=script&index=0!./Heads.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.10.3.0@vue-loader/lib/template-compiler?id=data-v-1499b4dc!../../node_modules/.10.3.0@vue-loader/lib/selector?type=template&index=0!./Heads.vue\"),\n  /* scopeId */\n  \"data-v-1499b4dc\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Heads.vue\n// module id = 14\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"top\"\n  }, [_c('img', {\n    staticClass: \"head\",\n    attrs: {\n      \"src\": _vm.friendnameImgHead\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"name\"\n  }, [_vm._v(_vm._s(_vm.friendname))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"voice\"\n  }, [_c('i', {\n    staticClass: \"fa\",\n    class: _vm.vociceOpen ? 'fa-volume-up' : 'fa-volume-down',\n    attrs: {\n      \"aria-hidden\": \"true\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.vociceOpen = _vm.vociceOpen ? false : true\n      }\n    }\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.3.0@vue-loader/lib/template-compiler.js?id=data-v-1499b4dc!./~/.10.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/Heads.vue\n// module id = 15\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Heads'), _vm._v(\" \"), _c('ChatList')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.3.0@vue-loader/lib/template-compiler.js?id=data-v-5833f259!./~/.10.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 16\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('section', {\n    staticClass: \"chatlist\",\n    class: _vm.showSelBox > 0 ? 'chatlist-bottom-collapse' : 'chatlist-bottom'\n  }, [_c('mt-loadmore', {\n    ref: \"loadmore\",\n    attrs: {\n      \"top-method\": _vm.loadTop,\n      \"top-pull-text\": \"加载更多\",\n      \"top-drop-text\": \"释放加载\"\n    },\n    on: {\n      \"top-status-change\": _vm.handleTopChange\n    }\n  }, [_c('ul', [_vm._l((_vm.records), function(item) {\n    return [(item.type == 1) ? _c('li', {\n      staticClass: \"chat-mine\"\n    }, [_c('div', {\n      staticClass: \"chat-user\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": _vm.usernameImgHead\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"time\"\n    }, [_c('cite', [_c('i', [_vm._v(_vm._s(item.time))]), _vm._v(_vm._s(item.name))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"chat-text\",\n      domProps: {\n        \"innerHTML\": _vm._s(_vm.replaceFace(item.content))\n      }\n    })]) : _vm._e(), _vm._v(\" \"), (item.type == 2) ? _c('li', [_c('div', {\n      staticClass: \"chat-user\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": _vm.friendnameImgHead\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"time\"\n    }, [_c('cite', [_vm._v(_vm._s(item.name)), _c('i', [_vm._v(_vm._s(item.time))])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"chat-text\",\n      domProps: {\n        \"innerHTML\": _vm._s(_vm.replaceFace(item.content))\n      }\n    })]) : _vm._e()]\n  })], 2)])], 1), _vm._v(\" \"), _c('section', {\n    staticClass: \"foot\"\n  }, [_c('mt-field', {\n    staticClass: \"con\",\n    attrs: {\n      \"id\": \"txtContent\",\n      \"placeholder\": \"请输入消息\"\n    },\n    model: {\n      value: (_vm.content),\n      callback: function($$v) {\n        _vm.content = $$v\n      },\n      expression: \"content\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"btn-face\",\n    on: {\n      \"click\": function($event) {\n        _vm.showSelBox = _vm.showSelBox == 1 ? 0 : 1\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"fa fa-smile-o\",\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  })]), _vm._v(\" \"), _c('span', {\n    staticClass: \"btn-plus\",\n    on: {\n      \"click\": function($event) {\n        _vm.showSelBox = _vm.showSelBox == 2 ? 0 : 2\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"fa\",\n    class: _vm.showSelBox == 2 ? 'fa-minus-circle' : 'fa-plus-circle',\n    attrs: {\n      \"aria-hidden\": \"true\"\n    }\n  })]), _vm._v(\" \"), _c('span', {\n    staticClass: \"btn btn-send\",\n    on: {\n      \"click\": _vm.sendMsg\n    }\n  }, [_vm._v(\"发送\")]), _vm._v(\" \"), _c('section', {\n    staticClass: \"selbox\",\n    class: _vm.showSelBox > 0 ? 'show' : 'hide'\n  }, [_c('section', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSelBox == 1),\n      expression: \"showSelBox==1\"\n    }],\n    staticClass: \"face-box\"\n  }, [_c('mt-swipe', {\n    attrs: {\n      \"auto\": 0,\n      \"continuous\": false\n    }\n  }, _vm._l((Math.ceil(_vm.EXPS.length / 18)), function(n) {\n    return _c('mt-swipe-item', _vm._l((_vm.getEXP(n, 18)), function(item, index) {\n      return _c('li', [_c('img', {\n        attrs: {\n          \"src\": 'static/emotion/' + item.file,\n          \"alt\": \"\",\n          \"data\": item.code\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.content += item.code\n          }\n        }\n      })])\n    }))\n  }))], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.showSelBox == 2),\n      expression: \"showSelBox==2\"\n    }]\n  }, [_vm._v(_vm._s(_vm.selOther))])])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.3.0@vue-loader/lib/template-compiler.js?id=data-v-e1083f32!./~/.10.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatList.vue\n// module id = 17\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <Heads>\n    </Heads>\n    <ChatList>\n    </ChatList>\n  </div>\n</template>\n\n<script>\nimport Heads from './components/Heads'\nimport ChatList from './components/ChatList'\n\nexport default {\n  name: 'app',\n  components: {\n    Heads,\n    ChatList\n  }\n}\n</script>\n\n<style>\n  @import \"../node_modules/font-awesome/css/font-awesome.min.css\";\n  body {\n    /*background-color: #324057;*/\n    margin: 0px;\n    padding: 0px;\n    font-family: Helvetica Neue, Helvetica, PingFang SC, Hiragino Sans GB, Microsoft YaHei, SimSun, sans-serif;\n    /*font-weight: 400;\n    -webkit-font-smoothing: antialiased;*/\n    overflow: hidden;\n  }\n  \n  blockquote,\n  body,\n  button,\n  dd,\n  div,\n  dl,\n  dt,\n  form,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  input,\n  li,\n  ol,\n  p,\n  pre,\n  td,\n  textarea,\n  th,\n  ul {\n    margin: 0;\n    margin-top: 0px;\n    margin-right: 0px;\n    margin-bottom: 0px;\n    margin-left: 0px;\n    padding: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n  \n  ul,\n  li {\n    list-style: none;\n  }\n  \n  a {\n    color: #666;\n  }\n  /*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n  \n  ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n    background-color: #F8F8F8;\n  }\n  /*定义滚动条轨道 内阴影+圆角*/\n  \n  ::-webkit-scrollbar-track {\n    background-color: #F8F8F8;\n  }\n  /*定义滑块 内阴影+圆角*/\n  \n  ::-webkit-scrollbar-thumb {\n    background-color: #e2e2e2;\n  }\n  \n  #app {\n    overflow: hidden;\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// App.vue?4ea191d2","<template>\n    <div>\n        <section class=\"chatlist\" :class=\"showSelBox>0?'chatlist-bottom-collapse':'chatlist-bottom'\">\n            <mt-loadmore :top-method=\"loadTop\" top-pull-text=\"加载更多\" top-drop-text=\"释放加载\" @top-status-change=\"handleTopChange\" ref=\"loadmore\">\n                <ul>\n                    <template v-for=\"item in records\">\n                        <li class=\"chat-mine\" v-if=\"item.type==1\">\n                            <div class=\"chat-user\"><img :src=\"usernameImgHead\"></div>\n                            <div class=\"time\"><cite><i>{{item.time}}</i>{{item.name}}</cite></div>\n                            <div class=\"chat-text\" v-html=\"replaceFace(item.content)\"></div>\n                        </li>\n                        <li v-if=\"item.type==2\">\n                            <div class=\"chat-user\"><img :src=\"friendnameImgHead\"></div>\n                            <div class=\"time\"><cite>{{item.name}}<i>{{item.time}}</i></cite></div>\n                            <div class=\"chat-text\" v-html=\"replaceFace(item.content)\"></div>\n                        </li>\n                    </template>\n                </ul>\n            </mt-loadmore>\n        </section>\n\n\n        <section class=\"foot\">\n            <mt-field id=\"txtContent\" placeholder=\"请输入消息\" class=\"con\" v-model=\"content\"></mt-field>\n            <span class=\"btn-face\" v-on:click=\"showSelBox=showSelBox==1?0:1\"><i class=\"fa fa-smile-o\" aria-hidden=\"true\"></i></span>\n            <span class=\"btn-plus\" v-on:click=\"showSelBox=showSelBox==2?0:2\"><i class=\"fa\" aria-hidden=\"true\" :class=\"showSelBox==2?'fa-minus-circle':'fa-plus-circle'\"></i></span>\n            <span class=\"btn btn-send\" v-on:click=\"sendMsg\">发送</span>\n            <section class=\"selbox\" :class=\"showSelBox>0?'show':'hide'\">\n                <section v-show=\"showSelBox==1\" class=\"face-box\">\n                    <mt-swipe :auto=\"0\" :continuous=\"false\">\n                        <mt-swipe-item v-for=\"n in Math.ceil(EXPS.length/18)\">\n                            <li v-for=\"(item, index) in getEXP(n,18)\">\n                                <img :src=\"'static/emotion/'+item.file\" alt=\"\" :data=\"item.code\" v-on:click=\"content+=item.code\">\n                            </li>\n                        </mt-swipe-item>\n                    </mt-swipe>\n                </section>\n                <div v-show=\"showSelBox==2\">{{selOther}}</div>\n            </section>\n        </section>\n\n\n    </div>\n</template>\n\n<script>\nimport util from '../common/util'\nimport { Toast } from 'mint-ui';\n\nvar socket = null;\nvar timestamp = new Date().getTime();\nexport default {\n    name: 'chatlist',\n    created (){\n        const reg = /username=.*$/g;\n        let reg_str_arr = location.href.match(reg)[0].split('&');\n        let username = reg_str_arr[0].split('=')[1];\n        let friendname = reg_str_arr[1].split('=')[1];\n        this.username = username;\n        this.friendname = friendname;\n        socket = new WebSocket('ws://118.89.200.173/chat?username=' + username + '&friendname=' + friendname);\n        this.usernameImgHead = 'http://118.89.200.173/image/head_image/' +username + '.jpg';\n        this.friendnameImgHead = 'http://118.89.200.173/image/head_image/' +friendname + '.jpg'\n    },\n    data() {\n        return {\n            username: '',\n            friendname: '',\n            usernameImgHead: '',\n            friendnameImgHead: '',\n            showSelBox: 0, // 0隐藏 1显示表情 2显示其他\n            selFace: '表情',\n            selOther: '其他功能',\n            content:'',\n            topStatus: '',\n            //聊天记录\n            records: [],\n            // 表情\n            EXPS: [\n                { file: '100.gif', code: '/::)', title: '微笑',reg:/\\/::\\)/g },\n                { file: '101.gif', code: '/::~', title: '伤心',reg:/\\/::~/g },\n                { file: '102.gif', code: '/::B', title: '美女',reg:/\\/::B/g },\n                { file: '103.gif', code: '/::|', title: '发呆',reg:/\\/::\\|/g },\n                { file: '104.gif', code: '/:8-)', title: '墨镜',reg:/\\/:8-\\)/g },\n                { file: '105.gif', code: '/::<', title: '哭',reg:/\\/::</g },\n                { file: '106.gif', code: '/::$', title: '羞',reg:/\\/::\\$/g },\n                { file: '107.gif', code: '/::X', title: '哑',reg:/\\/::X/g },\n                { file: '108.gif', code: '/::Z', title: '睡',reg:/\\/::Z/g },\n                { file: '109.gif', code: '/::\\'(', title: '哭',reg:/\\/::'\\(/g },\n                { file: '110.gif', code: '/::-|', title: '囧',reg:/\\/::-\\|/g },\n                { file: '111.gif', code: '/::@', title: '怒',reg:/\\/::@/g },\n                { file: '112.gif', code: '/::P', title: '调皮',reg:/\\/::P/g },\n                { file: '113.gif', code: '/::D', title: '笑',reg:/\\/::D/g },\n                { file: '114.gif', code: '/::O', title: '惊讶',reg:/\\/::O/g },\n                { file: '115.gif', code: '/::(', title: '难过',reg:/\\/::\\(/g },\n                { file: '116.gif', code: '/::+', title: '酷',reg:/\\/::\\+/g },\n                { file: '117.gif', code: '/:--b', title: '汗',reg:/\\/:--b/g },\n                { file: '118.gif', code: '/::Q', title: '抓狂',reg:/\\/::Q/g },\n                { file: '119.gif', code: '/::T', title: '吐',reg:/\\/::T/g },\n                { file: '120.gif', code: '/:,@P', title: '笑',reg:/\\/:,@P/g },\n                { file: '121.gif', code: '/:,@-D', title: '快乐',reg:/\\/:,@-D/g },\n                { file: '122.gif', code: '/::d', title: '奇',reg:/\\/::d/g },\n                { file: '123.gif', code: '/:,@o', title: '傲' ,reg:/\\/:,@o/g},\n                { file: '124.gif', code: '/::g', title: '饿',reg:/\\/::g/g },\n                { file: '125.gif', code: '/:|-)', title: '累' ,reg:/\\/:\\|-\\)/g},\n                { file: '126.gif', code: '/::!', title: '吓',reg:/\\/::!/g },\n                // { file: '127.gif', code: '/::L', title: '汗' },\n                // { file: '128.gif', code: '/::>', title: '高兴' },\n                // { file: '129.gif', code: '/::,@', title: '闲' },\n                // { file: '130.gif', code: '/:,@f', title: '努力' },\n                // { file: '131.gif', code: '/::-S', title: '骂' },\n                // { file: '132.gif', code: '/:?', title: '疑问' },\n                // { file: '133.gif', code: '/:,@x', title: '秘密' },\n                // { file: '134.gif', code: '/:,@@', title: '乱' },\n                // { file: '135.gif', code: '/::8', title: '疯' },\n                // { file: '136.gif', code: '/:,@!', title: '哀' },\n                // { file: '137.gif', code: '/:!!!', title: '鬼' },\n                // { file: '138.gif', code: '/:xx', title: '打击' },\n                // { file: '139.gif', code: '/:bye', title: 'bye' },\n                // { file: '140.gif', code: '/:wipe', title: '汗' },\n                // { file: '141.gif', code: '/:dig', title: '抠' },\n                // { file: '142.gif', code: '/:handclap', title: '鼓掌' },\n                // { file: '143.gif', code: '/:&-(', title: '糟糕' },\n                // { file: '144.gif', code: '/:B-)', title: '恶搞' },\n                // { file: '145.gif', code: '/:<@', title: '什么' },\n                // { file: '146.gif', code: '/:@>', title: '什么' },\n                // { file: '147.gif', code: '/::-O', title: '累' },\n                // { file: '148.gif', code: '/:>-|', title: '看' },\n                // { file: '149.gif', code: '/:P-(', title: '难过' },\n                // { file: '150.gif', code: '/::\\'|', title: '难过' },\n                // { file: '151.gif', code: '/:X-)', title: '坏' },\n                // { file: '152.gif', code: '/::*', title: '亲' },\n                // { file: '153.gif', code: '/:@x', title: '吓' },\n                // { file: '154.gif', code: '/:8*', title: '可怜' },\n                // { file: '155.gif', code: '/:pd', title: '刀' },\n                // { file: '156.gif', code: '/:<W>', title: '水果' },\n                // { file: '157.gif', code: '/:beer', title: '酒' },\n                // { file: '158.gif', code: '/:basketb', title: '篮球' },\n                // { file: '159.gif', code: '/:oo', title: '乒乓' },\n                // { file: '160.gif', code: '/:coffee', title: '咖啡' },\n                // { file: '161.gif', code: '/:eat', title: '美食' },\n                // { file: '162.gif', code: '/:pig', title: '动物' },\n                // { file: '163.gif', code: '/:rose', title: '鲜花' },\n                // { file: '164.gif', code: '/:fade', title: '枯' },\n                // { file: '165.gif', code: '/:showlove', title: '唇' },\n                // { file: '166.gif', code: '/:heart', title: '爱' },\n                // { file: '167.gif', code: '/:break', title: '分手' },\n                // { file: '168.gif', code: '/:cake', title: '生日' },\n                // { file: '169.gif', code: '/:li', title: '电' },\n                // { file: '170.gif', code: '/:bome', title: '炸弹' },\n                // { file: '171.gif', code: '/:kn', title: '刀子' },\n                // { file: '172.gif', code: '/:footb', title: '足球' },\n                // { file: '173.gif', code: '/:ladybug', title: '瓢虫' },\n                // { file: '174.gif', code: '/:shit', title: '翔' },\n                // { file: '175.gif', code: '/:moon', title: '月亮' },\n                // { file: '176.gif', code: '/:sun', title: '太阳' },\n                // { file: '177.gif', code: '/:gift', title: '礼物' },\n                // { file: '178.gif', code: '/:hug', title: '抱抱' },\n                // { file: '179.gif', code: '/:strong', title: '拇指' },\n                // { file: '180.gif', code: '/:weak', title: '贬低' },\n                // { file: '181.gif', code: '/:share', title: '握手' },\n                // { file: '182.gif', code: '/:v', title: '剪刀手' },\n                // { file: '183.gif', code: '/:@)', title: '抱拳' },\n                // { file: '184.gif', code: '/:jj', title: '勾引' },\n                // { file: '185.gif', code: '/:@@', title: '拳头' },\n                // { file: '186.gif', code: '/:bad', title: '小拇指' },\n                // { file: '187.gif', code: '/:lvu', title: '拇指八' },\n                // { file: '188.gif', code: '/:no', title: '食指' },\n                // { file: '189.gif', code: '/:ok', title: 'ok' },\n                // { file: '190.gif', code: '/:love', title: '情侣' },\n                // { file: '191.gif', code: '/:<L>', title: '爱心' },\n                // { file: '192.gif', code: '/:jump', title: '蹦哒' },\n                // { file: '193.gif', code: '/:shake', title: '颤抖' },\n                // { file: '194.gif', code: '/:<O>', title: '怄气' },\n                // { file: '195.gif', code: '/:circle', title: '跳舞' },\n                // { file: '196.gif', code: '/:kotow', title: '发呆' },\n                // { file: '197.gif', code: '/:turn', title: '背着' },\n                // { file: '198.gif', code: '/:skip', title: '伸手' },\n                // { file: '199.gif', code: '/:oY', title: '耍帅' }\n            ]\n        }\n    },\n    methods: {\n        getEXP: function (pageNow,pageSize) {\n            return this.EXPS.slice((pageNow - 1) * pageSize, pageSize * pageNow)\n        },\n        //发送消息\n        sendMsg: function(){\n            var _this=this;\n\n            if(this.content==''){\n                Toast('请输入消息');\n                return;\n            }\n            socket.onopen =  util.send(socket, this.content);\n            this.records.push({\n                type: 1,\n                time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n                name: this.username,\n                content: this.content\n            });\n            socket.onmessage = (e) => {\n                console.log(_this.records);\n                let data = JSON.parse(e.data)[1];\n                console.log(util.formatDate.myformat(data.TimeStamp));\n                _this.records.push({\n                    type: 2,\n                    time: util.formatDate.myformat(data.TimeStamp),\n                    name: _this.friendname,\n                    content: data.Content\n                });\n            };\n            this.content='';\n\n            this.scrollToBottom();\n            //this.focusTxtContent();//聚焦输入框\n\n        },\n        //聚焦输入框\n        focusTxtContent:function(){\n            document.querySelector(\"#txtContent input\").focus();\n        },\n        //滚动条滚动到底部\n        scrollToBottom:function(){\n            setTimeout(function(){\n                var chatlist = document.getElementsByClassName('chatlist')[0];\n                chatlist.scrollTop=chatlist.scrollHeight;\n            },100);\n        },\n        //替换表情代码\n        replaceFace:function(con){\n            var _this=this;\n            var exps=this.EXPS;\n            for(var i=0;i<exps.length;i++){\n                //con = con.replace(new RegExp(exps[i].code,'g'), '<img src=\"static/emotion/' + exps[i].file +'\"  alt=\"\" />');\n                con = con.replace(exps[i].reg, '<img src=\"static/emotion/' + exps[i].file +'\"  alt=\"\" />');\n            }\n            return con;\n        },\n        handleTopChange(status) {\n            this.topStatus = status;\n        },\n        loadTop(id) {\n            var _this=this;\n            console.log(timestamp);\n            setTimeout(() => {\n                var chatlist = document.getElementsByClassName('chatlist')[0];\n                var oldHeight=chatlist.scrollHeight;\n                this.$http.get('http://118.89.200.173/chat/get_chat_record?username='+this.username+'&friendname='+this.friendname+'&timestamp='+timestamp)\n                    .then((res) => {\n                        console.log(res);\n                        let data = res.body;\n                        if (!data) {\n                            return ;\n                        }\n                        data.forEach((item, index) => {\n                            let obj = {};\n                            obj.content = item[1].Content;\n                            obj.type = item[0];\n                            obj.time = util.formatDate.myformat(item[1].TimeStamp);\n                            obj.name = _this.username;\n                            _this.records.unshift(obj);\n                            console.log(item);\n                            timestamp = item[1].TimeStamp;\n                        })\n                    })\n\n                setTimeout(function(){\n                    var newHeight=chatlist.scrollHeight;\n                    chatlist.scrollTop=newHeight-oldHeight;\n                },100);\n\n                this.$refs.loadmore.onTopLoaded(id);\n            }, 1500);\n        }\n    },\n    mounted:function(){\n        this.scrollToBottom();\n        this.focusTxtContent();\n    }\n    // updated:function(){\n    //     this.scrollToBottom();\n    // }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n    .chatlist {\n        position: absolute;\n        top: 60px;\n        bottom: 48px;\n        left: 0px;\n        right: 0px;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        padding: 10px;\n    }\n\n    .chatlist-bottom {\n        bottom: 48px;\n    }\n\n    .chatlist-bottom-collapse {\n        bottom: 198px;\n    }\n\n    .chatlist ul {\n        min-height: 300px;\n    }\n\n    .chatlist ul .chat-mine {\n        text-align: right;\n        padding-left: 0;\n        padding-right: 60px;\n    }\n\n    .chatlist ul li {\n        position: relative;\n        /*font-size: 0;*/\n        margin-bottom: 10px;\n        padding-left: 60px;\n        min-height: 68px;\n    }\n\n    .chat-mine .chat-user {\n        left: auto;\n        right: 3px;\n    }\n\n    .chat-user {\n        position: absolute;\n        left: 3px;\n    }\n\n    .chat-text,\n    .chat-user {\n        display: inline-block;\n        vertical-align: top;\n        /*font-size: 14px;*/\n    }\n\n    .chat-user img {\n        width: 40px;\n        height: 40px;\n        border-radius: 100%;\n    }\n\n    .time {\n        width: 100%;\n    }\n\n    cite {\n        left: auto;\n        right: 60px;\n        text-align: right;\n    }\n\n    cite {\n        font-style: normal;\n        line-height: 24px;\n        font-size: 12px;\n        white-space: nowrap;\n        color: #999;\n        text-align: left;\n    }\n\n    cite i {\n        font-style: normal;\n        padding-left: 5px;\n        padding-right: 5px;\n        font-size: 12px;\n    }\n\n    .chat-mine .chat-text {\n        margin-left: 0;\n        text-align: left;\n        background-color: #33DF83;\n        color: #fff;\n    }\n\n    .chat-text {\n        position: relative;\n        line-height: 22px;\n        /*margin-top: 25px;*/\n        padding: 10px 15px;\n        background-color: #eee;\n        border-radius: 3px;\n        color: #333;\n        word-break: break-all;\n        max-width: 462px\\9;\n    }\n\n    .chat-text,\n    .chat-user {\n        display: inline-block;\n        vertical-align: top;\n        font-size: 14px;\n    }\n\n    .chat-text img {\n        max-width: 100%;\n        vertical-align: middle;\n    }\n\n    .chat-user {\n        position: absolute;\n        left: 3px;\n    }\n\n    .chat-text:after {\n        content: '';\n        position: absolute;\n        left: -10px;\n        top: 15px;\n        width: 0;\n        height: 0;\n        border-style: solid dashed dashed;\n        border-color: #eee transparent transparent;\n        overflow: hidden;\n        border-width: 10px;\n    }\n\n    .chat-mine .chat-text:after {\n        left: auto;\n        right: -10px;\n        border-top-color: #33DF83;\n    }\n\n    .foot {\n        width: 100%;\n        min-height: 48px;\n        position: fixed;\n        bottom: 0px;\n        left: 0px;\n        background-color: #F8F8F8;\n    }\n\n    .foot .con {\n        position: absolute;\n        left: 66px;\n        right: 40px;\n    }\n\n    .foot .btn-plus {\n        width: 28px;\n        padding: 9px 3px;\n        position: absolute;\n        left: 0px;\n        border-left: 1px solid #d9d9d9;\n    }\n\n    .foot .btn-plus i {\n        font-size: 2em;\n        color: #ccc;\n    }\n\n    .foot .btn-face {\n        width: 28px;\n        padding: 9px 3px 9px 0px;\n        position: absolute;\n        left: 35px;\n        /*border-right: 1px solid #d9d9d9;*/\n    }\n\n    .foot .btn-face i {\n        font-size: 2em;\n        color: #d9d9d9;\n    }\n\n    .foot .selbox {\n        height: 150px;\n        margin-top: 48px;\n        border-top: 1px solid #d9d9d9;\n    }\n\n    .show {\n        display: block;\n    }\n\n    .hide {\n        display: none;\n    }\n\n    .face-box {\n        /* position: absolute; */\n        /* top: 48px; */\n        /* left: 0px; */\n        /* right: 0px; */\n        /* bottom: 0px; */\n        padding: 15px 15px 0px 15px;\n        overflow: hidden;\n        width: 290px;\n        margin: 0px auto;\n        height: 135px;\n    }\n\n    .face-box li {\n        width: 30px;\n        float: left;\n        padding: 6px 10px 0px 8px;\n    }\n\n    .btn {\n        display: inline-block;\n        vertical-align: top;\n        font-size: 14px;\n        line-height: 32px;\n        margin-left: 5px;\n        padding: 0 6px;\n        background-color: #33DF83;\n        color: #fff;\n        border-radius: 3px;\n    }\n\n    .btn-send {\n        position: absolute;\n        right: 0px;\n        top: 8px;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ChatList.vue?eaa21be0","<template>\n  <section class=\"top\">\n    <img class=\"head\" :src=\"friendnameImgHead\" />\n    <span class=\"name\">{{friendname}}</span>\n    <span class=\"voice\"><i class=\"fa\" aria-hidden=\"true\" :class=\"vociceOpen?'fa-volume-up':'fa-volume-down'\" v-on:click=\"vociceOpen=vociceOpen?false:true\"></i></span>\n    <!--fa fa-volume-off-->\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'heads',\n  created (){\n      const reg = /username=.*$/g;\n      let reg_str_arr = location.href.match(reg)[0].split('&');\n      let username = reg_str_arr[0].split('=')[1];\n      let friendname = reg_str_arr[1].split('=')[1];\n      this.username = username;\n      this.friendname = friendname;\n      this.usernameImgHead = 'http://118.89.200.173/image/head_image/' +username + '.jpg';\n      this.friendnameImgHead = 'http://118.89.200.173/image/head_image/' +friendname + '.jpg'\n  },\n  data () {\n    return {\n      vociceOpen:true,\n      username: '',\n      friendname: '',\n      usernameImgHead: '',\n      friendnameImgHead: ''\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .top {\n    height: 50px;\n    line-height: 50px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    background-color: #F8F8F8;\n    padding: 5px 10px;\n  }\n\n  .top .head {\n    width: 50px;\n    height: 50px;\n    float: left;\n    border-radius: 100%;\n  }\n\n  .top .name {\n    font-size: 18px;\n    color: #444;\n    margin-left: 10px;\n  }\n\n  .top .voice {\n    width: 30px;\n    height: 50px;\n    float: right;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Heads.vue?1daa8b88","var SIGN_REGEXP = /([yMdhsm])(\\1*)/g;\r\nvar DEFAULT_PATTERN = 'yyyy-MM-dd';\r\nfunction padding(s, len) {\r\n    var len = len - (s + '').length;\r\n    for (var i = 0; i < len; i++) { s = '0' + s; }\r\n    return s;\r\n};\r\n\r\nexport default {\r\n    getQueryStringByName: function (name) {\r\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        var context = \"\";\r\n        if (r != null)\r\n            context = r[2];\r\n        reg = null;\r\n        r = null;\r\n        return context == null || context == \"\" || context == \"undefined\" ? \"\" : context;\r\n    },\r\n    formatDate: {\r\n        myformat: function (date){\r\n            return (new Date(date).getFullYear()) + '-' + (new Date(date).getMonth()+1) + '-' + (new Date(date).getDate()) + ' ' + (new Date(date).getHours())+\":\"+(new Date(date).getMinutes() <10 ? '0' + new Date(date).getMinutes() : new Date(date).getMinutes()) + ':' + (new Date(date).getSeconds() <10 ? '0' + new Date(date).getSeconds() : new Date(date).getSeconds())\r\n        },\r\n\r\n        format: function (date, pattern) {\r\n            pattern = pattern || DEFAULT_PATTERN;\r\n            return pattern.replace(SIGN_REGEXP, function ($0) {\r\n                switch ($0.charAt(0)) {\r\n                    case 'y': return padding(date.getFullYear(), $0.length);\r\n                    case 'M': return padding(date.getMonth() + 1, $0.length);\r\n                    case 'd': return padding(date.getDate(), $0.length);\r\n                    case 'w': return date.getDay() + 1;\r\n                    case 'h': return padding(date.getHours(), $0.length);\r\n                    case 'm': return padding(date.getMinutes(), $0.length);\r\n                    case 's': return padding(date.getSeconds(), $0.length);\r\n                }\r\n            });\r\n        },\r\n        parse: function (dateString, pattern) {\r\n            var matchs1 = pattern.match(SIGN_REGEXP);\r\n            var matchs2 = dateString.match(/(\\d)+/g);\r\n            if (matchs1.length == matchs2.length) {\r\n                var _date = new Date(1970, 0, 1);\r\n                for (var i = 0; i < matchs1.length; i++) {\r\n                    var _int = parseInt(matchs2[i]);\r\n                    var sign = matchs1[i];\r\n                    switch (sign.charAt(0)) {\r\n                        case 'y': _date.setFullYear(_int); break;\r\n                        case 'M': _date.setMonth(_int - 1); break;\r\n                        case 'd': _date.setDate(_int); break;\r\n                        case 'h': _date.setHours(_int); break;\r\n                        case 'm': _date.setMinutes(_int); break;\r\n                        case 's': _date.setSeconds(_int); break;\r\n                    }\r\n                }\r\n                return _date;\r\n            }\r\n            return null;\r\n        }\r\n\r\n    },\r\n\r\n    send: function (socket, data){\r\n        socket.send(data);\r\n    }\r\n    // message: function (socket){\r\n    //     socket.addEventListener(socket, (e) => {\r\n    //         console.log(e);\r\n    //     })\r\n    // }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util.js"],"sourceRoot":""}