webpackJsonp([0],[,,function(t,e,n){"use strict";var a=n(0),i=n(28),s=n(23),o=n.n(s),r=n(22),l=n.n(r);a.default.use(i.a),e.a=new i.a({routes:[{path:"/",name:"friendCircle",component:o.a},{path:"/add",name:"Add",component:l.a}]})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,n){n(19);var a=n(1)(n(12),n(26),null,null);t.exports=a.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"GHeader",methods:{Post:function(){this.$emit("post"),console.log("被触发")},reback:function(){location.href="/",console.log("返回了")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),i=n.n(a);e.default={components:{GHeader:i.a},created:function(){var t=this;console.log("wer"),this.$http.get("http://118.89.200.173/circle/get_id").then(function(e){console.log(e),t.addParam.id=e.data,t.param.id=e.data});var e=location.href.match(/username=.*$/g)[0].split("=")[1];this.addParam.username=e},data:function(){return{defaultList:[],imgName:"image",visible:!1,uploadList:[],param:{username:"123",id:"1"},addParam:{username:"",id:"",ishoney:"0"},content:""}},methods:{report:function(){this.$http.post("http://118.89.200.173/circle/add_friend_circle",{username:this.addParam.username,id:this.addParam.id,content:this.content,ishoney:this.addParam.ishoney}).then(function(t){console.log(t),location.href="/"},function(t){console.log(t)})},handleView:function(t){this.imgName=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},handleSuccess:function(t,e){e.url=t[1],e.name=t[0],console.log(t),console.log(e),console.log(this.defaultList)},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+t.name+" 格式不正确，请上传 jpg 或 png 格式的图片。"})},handleMaxSize:function(t){this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 2M。"})},handleBeforeUpload:function(){this.name=3*Math.random()+9*Math.random()+Math.random();var t=this.uploadList.length<5;return t||this.$Notice.warning({title:"最多只能上传 5 张图片。"}),t}},mounted:function(){this.uploadList=this.$refs.upload.fileList}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){this.initData(1)},methods:{initData:function(t){var e=this.username,n=t||this.page,a="http://118.89.200.173/circle/get_friend_circle?username="+e+"&page="+n,i=this;1==n&&(this.friendCircleList=[]),this.$http.get(a).then(function(t){console.log(t.body),t.body.forEach(function(t,e){var n={};n.Content=t.Content,n.picList=t.ImagePath,n.UserName=t.UserName,n.TimeStamp=new Date(t.TimeStamp).getMonth()+1+"月"+new Date(t.TimeStamp).getDate()+"日"+new Date(t.TimeStamp).getHours()+":"+(new Date(t.TimeStamp).getMinutes()<10?"0"+new Date(t.TimeStamp).getMinutes():new Date(t.TimeStamp).getMinutes()),n.headerUrl=t.HeadImage?t.HeadImage:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar",n.ishoney=t.IsHoney,i.friendCircleList.push(n)}),i.loading=!1})},loadTop:function(){this.$refs.loadmore.onTopLoaded(),this.initData(1)},loadBottom:function(){this.loading=!0;var t=this.page++;this.initData(t)}},data:function(){return{friendCircleList:[],username:"admin",page:1,allLoaded:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),i=(n.n(a),n(8)),s=n.n(i),o=n(5),r=(n.n(o),n(9)),l=n.n(r),c=n(0),d=n(7),u=n.n(d),p=n(10),f=n.n(p),m=n(2),h=n(11),v=n(6),g=(n.n(v),n(3));n.n(g);c.default.use(u.a),c.default.use(h.a),c.default.component(l.a.name,l.a),c.default.use(s.a),c.default.config.productionTip=!1,new c.default({el:"#app",router:m.a,template:"<App/>",components:{App:f.a}})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(20);var a=n(1)(n(13),n(27),"data-v-bb66213e",null);t.exports=a.exports},function(t,e,n){n(17);var a=n(1)(n(14),n(24),"data-v-13052efb",null);t.exports=a.exports},function(t,e,n){n(18);var a=n(1)(n(15),n(25),"data-v-17546a84",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("g-header",{on:{post:t.report}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"content",attrs:{name:"content",placeholder:"说点什么吧..."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),t._l(t.uploadList,function(e){return n("div",{staticClass:"demo-upload-list"},["finished"===e.status?[n("img",{attrs:{src:e.url}}),t._v(" "),n("div",{staticClass:"demo-upload-list-cover"},[n("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(n){t.handleView(e.name)}}}),t._v(" "),n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(n){t.handleRemove(e)}}})],1)]:[e.showProgress?n("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),n("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":t.defaultList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,multiple:"",type:"drag",action:"http://118.89.200.173/circle/upload_picture",data:t.param,name:t.imgName}},[n("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[n("Icon",{attrs:{type:"camera",size:"20"}})],1)]),t._v(" "),n("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?n("img",{staticStyle:{width:"100%"},attrs:{src:"https://o5wwk8baw.qnssl.com/"+t.imgName+"/large"}}):t._e()])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[t._m(0),t._v(" "),n("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop}},[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadBottom,expression:"loadBottom"}],staticClass:"page",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},t._l(t.friendCircleList,function(e){return n("li",{staticClass:"circle-item"},[n("div",{staticClass:"header"},[n("div",{staticClass:"headerImg"},[n("img",{attrs:{src:e.headerUrl,alt:"头像"}})]),t._v(" "),n("div",{staticClass:"intro"},[n("span",{staticStyle:{display:"inline-block"}},[t._v(t._s(e.UserName))]),t._v(" "),1==e.ishoney?n("i",{staticClass:"tags"}):t._e(),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.TimeStamp))])])]),t._v(" "),n("div",{staticClass:"content"},[t._v("\n                    "+t._s(e.Content)+"\n                ")]),t._v(" "),n("ul",{staticClass:"picList"},t._l(e.picList,function(t){return n("li",[n("img",{attrs:{src:t,alt:"图片"}})])}))])}))])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("span",[t._v("好友圈")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("span",{staticClass:"left",on:{click:function(e){t.reback()}}},[t._v("取消")]),t._v(" "),n("span",[t._v("动态")]),t._v(" "),n("span",{on:{click:t.Post}},[t._v("发表")])])},staticRenderFns:[]}},,,,function(t,e){}],[16]);
//# sourceMappingURL=app.5063da878804f8b8d337.js.map